import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="Docs/UI Specification" />

# UI Specification

Complete page-by-page specification for the Pyramid app â€” a sport-agnostic pyramid ranking system.

---

## Key Decisions

Summary of design decisions from the spec review:

- **Sport-agnostic**: No hardcoded sport terminology. Scoring is "best of N" with simple validation.
- **Multi-club**: Players can be in multiple clubs. Global club switcher in nav.
- **Multiple active seasons per club**: e.g., singles + doubles can run simultaneously.
- **Feed replaces Events**: Single feed page with club filter tabs. No separate Events page.
- **Challenge limit**: One open challenge per player per season (as challenger or challengee).
- **Forfeit vs Withdraw**: Forfeit = counts as loss (rankings update). Withdraw = cancel, no effect.
- **Scoring**: Best of N games. Winner auto-determined from game wins. Simple validation only.
- **Season membership**: All club members auto-added to new seasons. Can opt out. Admin can remove before start.
- **New seasons from old**: Options â€” keep ranks, shuffle, or invert.
- **Club creation**: App admin only, then transfers ownership to club admin.
- **Team formation**: Admin creates teams and assigns players.
- **Profile stats**: Three scopes â€” This Season, This Club, All Time.
- **Data retention**: All records preserved with player name, even after leaving.
- **Image storage**: Profile photos stored in database (base64/BYTEA).
- **Notifications**: In-app (bell icon in header) + email for important events.
- **i18n**: English (default) + German. Per-user language setting.
- **QR codes + rank charts**: Both MVP.

---

## Information Architecture

### Sitemap

```
/                                 â†’ Feed (home, cross-club news feed)
/join                             â†’ Join club (enter code / scan QR)
/onboarding                       â†’ Complete profile (first login only)
/rankings                         â†’ Rankings (pyramid + list toggle)
/matches                          â†’ Match list (my matches + all)
/matches/[id]                     â†’ Match detail (scores, comments, date proposals)
/profile                          â†’ Own profile (stats, settings, availability)
/player/[id]                      â†’ Other player's profile
/notifications                    â†’ Notification center

/admin/club/[id]                  â†’ Club admin dashboard
/admin/club/[id]/season/new       â†’ Create season
/admin/club/[id]/season/[id]      â†’ Season management
/admin/club/[id]/season/[id]/teams â†’ Team management (for team seasons)
/admin/club/[id]/members          â†’ Member management
/admin/club/[id]/announcements    â†’ Broadcast messages
/admin/app                        â†’ App-level super admin

/login                            â†’ Magic link login
/check-email                      â†’ Email confirmation
/settings                         â†’ App settings (language, notifications, dark mode)
```

### Navigation Structure

**Top Bar (mobile)** â€” persistent header:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Club Switcher â–¼]    ğŸ”” (3) â”‚  â† bell with unread badge
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Bottom Nav (mobile)** â€” 5 items:

| Position | Icon | Label (EN) | Label (DE) | Route |
|----------|------|------------|------------|-------|
| 1 | Home/Feed | Feed | Feed | `/` |
| 2 | Trophy | Rankings | Rangliste | `/rankings` |
| 3 | âŠ• (FAB) | Challenge | Fordern | opens challenge flow |
| 4 | Swords | Matches | Spiele | `/matches` |
| 5 | User | Profile | Profil | `/profile` |

The center item (3) is a floating action button (FAB) â€” raised, `court-500`, larger than other nav items. Tapping it opens the quick challenge flow.

**Sidebar Nav (desktop, lg+)** â€” same items + extras:

```
[Club Switcher Dropdown]     â† switches active club context
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Feed                         /
Rankings                     /rankings
Matches                      /matches
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Notifications (badge)        /notifications
Profile                      /profile
Settings                     /settings
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Admin  (if admin)            /admin/club/[id]
```

**Club Switcher** â€” dropdown in top bar (mobile) and top of sidebar (desktop). Shows all clubs the player belongs to. Switching changes the context for rankings, matches, and the FAB challenge flow. Feed always shows cross-club content but has club filter tabs.

---

## User Flows

### First-Time User Flow

```
Admin invites player by email
        â†“
Player receives magic link email
        â†“
Clicks link â†’ /api/auth/verify â†’ session created
        â†“
Redirect to /onboarding (profile incomplete)
        â†“
Enters name (required), uploads photo (optional)
        â†“
Has clubs? â”€â”€Noâ”€â”€â†’ Redirect to /join
        â”‚
       Yes
        â†“
Redirect to / (feed)
```

### Challenge Flow

```
Player taps FAB or challengeable player in pyramid
        â†“
System shows eligible opponents (filtered by rules)
        â†“
Player selects opponent, optionally adds message
        â†“
Challenge created (status: challenged)
        â†“
Opponent notified (in-app + email)
        â†“
Both players propose dates (structured date cards)
        â†“                              â†“
Date accepted                    No date after deadline
        â†“                              â†“
Status â†’ date_set               Email reminder to both
        â†“                         + flagged to admin
Match played
        â†“
Either player enters result
        â†“
Other player confirms â”€â”€orâ”€â”€â†’ disputes (flagged to admin)
        â†“
Rankings updated, events created
```

### Challenge Rules

A player **can** challenge another player if ALL of these are true:
- Challenger has no open challenge in this season (as challenger or challengee)
- Challengee has no open challenge in this season (as challenger or challengee)
- Both players are not marked as unavailable
- The season is active (not ended)
- The pyramid position rules are met:
  - Left neighbor in the same row
  - Right neighbor in the row above
  - Rank 3 can challenge ranks 1 and 2 (special case)
  - Formula: `maxRank = challengerRank + 1 - floor((1 + sqrt(8 * challengerRank - 7)) / 2)`

### Challenge Outcomes

| Outcome | Action | Rankings |
|---------|--------|----------|
| **Completed** | Either player enters score, other confirms | Winner takes loser's position if challenger wins; no change if challengee wins |
| **Forfeit** | Player gives up | Counts as a loss for the forfeiting player. Rankings update as if they lost. |
| **Withdraw** | Challenger cancels | No result, no ranking change. Challenge disappears. |
| **Admin resolve** | Admin overrides | Admin sets winner or cancels. Rankings update accordingly. |

---

## Pages

### 1. Login (`/login`)

**Purpose**: Passwordless magic link authentication.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          â”‚
â”‚      [Pyramid Logo]      â”‚
â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Email input     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Sign in â†’       â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚
â”‚   Don't have an account? â”‚
â”‚   Ask your club admin.   â”‚
â”‚                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Centered card on page, `court-500` sign-in button.
- On submit â†’ redirect to `/check-email`.
- Error: red inline message if submission fails.
- No self-registration â€” players are invited by club admins.

---

### 2. Check Email (`/check-email`)

**Purpose**: Confirmation that magic link was sent.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      [Envelope icon]     â”‚
â”‚                          â”‚
â”‚   Check your email       â”‚
â”‚   We sent a sign-in      â”‚
â”‚   link to you@mail.com   â”‚
â”‚                          â”‚
â”‚   Link valid for 15 min  â”‚
â”‚                          â”‚
â”‚   [â† Back to login]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3. Onboarding (`/onboarding`)

**Purpose**: Complete profile on first login. Shown when player has no name set.

**When shown**: Forced redirect after magic link verification if `player.name` is null/empty.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Welcome to Pyramid!    â”‚
â”‚                          â”‚
â”‚   Complete your profile  â”‚
â”‚   to get started.        â”‚
â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  [Upload photo]  â”‚   â”‚  â† optional, shows avatar circle
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Your name *     â”‚   â”‚  â† required
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Phone (optional)â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Continue â†’      â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After submit**: redirect to `/join` if 0 clubs, or `/` if already a club member.

---

### 4. Join Club (`/join`)

**Purpose**: Join a club by entering an invite code or scanning a QR code.

**When shown**: Forced redirect after onboarding if player has 0 clubs. Also reachable from settings.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Join a club             â”‚
â”‚                          â”‚
â”‚   Enter your club's      â”‚
â”‚   invite code:           â”‚
â”‚                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  A B C 1 2 3     â”‚   â”‚  â† large, spaced character input
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚  Join Club â†’     â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚
â”‚   â”€â”€â”€ or â”€â”€â”€             â”‚
â”‚                          â”‚
â”‚   [ğŸ“· Scan QR code]      â”‚  â† opens camera
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After code validated:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Join "TC Example"?     â”‚
â”‚   24 members             â”‚
â”‚                          â”‚
â”‚   [Join] [Cancel]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Validates code, shows club name + member count as confirmation step before joining.
- After join â†’ redirect to `/` (feed).
- Player is auto-added to all active seasons in the club.

---

### 5. Feed / Home (`/`)

**Purpose**: News feed â€” latest activity. The first thing players see after login.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feed                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          â”‚
â”‚ [All clubs|Club A|Club B]â”‚  â† filter tabs (pill-style)
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â— Result             â”‚ â”‚  â† event card
â”‚ â”‚ Player A beat B      â”‚ â”‚
â”‚ â”‚ 6-4, 3-6, 7-5       â”‚ â”‚
â”‚ â”‚ Club Name Â· 2h ago   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš” Challenge           â”‚ â”‚
â”‚ â”‚ Player C challenged Dâ”‚ â”‚
â”‚ â”‚ Club Name Â· 5h ago   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â†‘ Rank Change        â”‚ â”‚
â”‚ â”‚ Player A moved from  â”‚ â”‚
â”‚ â”‚ #5 â†’ #3              â”‚ â”‚
â”‚ â”‚ Club Name Â· 5h ago   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘‹ New Player        â”‚ â”‚
â”‚ â”‚ Player E joined      â”‚ â”‚
â”‚ â”‚ Club Name Â· 1d ago   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“… Season Start      â”‚ â”‚
â”‚ â”‚ "Summer 2026"        â”‚ â”‚
â”‚ â”‚ started              â”‚ â”‚
â”‚ â”‚ Club Name Â· 3d ago   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ [Load more...]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Filter tabs**: "All clubs" shows cross-club events. Individual club tabs filter to that club only. Club name label on each event card only shown on "All clubs" tab.

**Event types in feed**:

| Type | Icon | Content |
|------|------|---------|
| `result` | Trophy | `"{winner} beat {loser}"` + score + rank change |
| `challenge` | Swords | `"{challenger} challenged {challengee}"` |
| `withdrawal` | X | `"{player} withdrew challenge against {player}"` |
| `forfeit` | Flag | `"{player} forfeited against {player}"` |
| `rank_change` | Arrow up/down | `"{player} moved from #X to #Y"` |
| `new_player` | Wave | `"{player} joined {club}"` |
| `season_start` | Calendar | `"Season '{name}' started"` |
| `season_end` | Flag | `"Season '{name}' ended"` |
| `unavailable` | Clock | `"{player} is unavailable until {date}"` |

**Behavior**:
- Infinite scroll with pagination.
- Each event card is tappable â†’ navigates to the relevant detail (match, player profile, rankings).
- Pull-to-refresh on mobile.

---

### 6. Rankings (`/rankings`)

**Purpose**: View the current pyramid/standings for the active club's selected season.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rankings                 â”‚
â”‚ [Season selector â–¼]     â”‚  â† shows ALL active + archived seasons
â”‚                          â”‚
â”‚ [Toggle: Pyramid | List] â”‚
â”‚                          â”‚
â”‚ â”€â”€ Pyramid View â”€â”€       â”‚
â”‚                          â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”           â”‚
â”‚        â”‚ #1  â”‚           â”‚
â”‚        â””â”€â”€â”€â”€â”€â”˜           â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”      â”‚
â”‚     â”‚ #2  â”‚â”‚ #3  â”‚      â”‚
â”‚     â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ #4  â”‚â”‚ #5  â”‚â”‚ #6  â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”â”Œâ”€â”€â”€â”   â”‚
â”‚  â”‚#7 â”‚â”‚#8 â”‚â”‚#9 â”‚â”‚#10â”‚   â”‚
â”‚  â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜â””â”€â”€â”€â”˜   â”‚
â”‚                          â”‚
â”‚ Legend:                   â”‚
â”‚ â–  You  â–  Challengeable   â”‚
â”‚ â–  Challenged â–  Unavail.  â”‚
â”‚                          â”‚
â”‚ â”€â”€ or List View â”€â”€       â”‚
â”‚                          â”‚
â”‚ #  Player       W  L  â–²  â”‚
â”‚ 1  Player A    12  3  â”€  â”‚
â”‚ 2  Player B     9  5  â†‘2 â”‚
â”‚ 3  You          8  4  â†“1 â”‚
â”‚ 4  Player D     7  6  â†‘1 â”‚
â”‚ ...                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Season selector**: Dropdown showing all seasons for the active club. Multiple seasons can be active simultaneously (e.g., singles + doubles). Archived seasons are labeled "(archived)" and show read-only standings â€” no challenge interactions, just history.

**Pyramid view**:
- Each player card shows: avatar/initials, name (truncated), rank number.
- Card variants: current player (`court-500`), challengeable (`court-50` + `court-400` ring), challenged (`orange-50` + `orange-400` ring), unavailable (dimmed).
- Tap a challengeable player â†’ opens ChallengeSheet directly (no FAB needed â€” 1 tap to initiate).
- Tap any other player â†’ opens their profile.
- For team seasons: cards show team name instead of player name, team members listed below.

**List view**:
- Sortable table/list: Rank, Player/Team (avatar + name), Wins, Losses, Movement (arrow + number since last change).
- Tap a row â†’ player/team profile.
- Challengeable rows have a subtle green left accent.

**Movement indicator**: Arrow shows direction + magnitude since the last standings update (most recent completed match). `â†‘2` means moved up 2 positions since last result.

**Admin extras** (inline, if user is club admin):
- "Edit standings" button â†’ opens reorderable list to manually change ranks.
- Drag-and-drop or move up/down buttons per player/team.

---

### 7. Quick Challenge Flow (FAB)

**Purpose**: Challenge someone in the fewest taps possible.

**Triggered by**: Center FAB in bottom nav (mobile) or "Challenge" button in page header (desktop).

**Context**: Uses the currently selected club + season from the club switcher and season selector. If multiple active seasons exist, shows a season picker first.

**Flow**:
```
Step 0 (only if multiple active seasons):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Which season?            â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Singles 2026          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Doubles 2026          â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1 (bottom sheet / dialog):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Who do you want to       â”‚
â”‚ challenge?               â”‚
â”‚                          â”‚
â”‚ Players you can          â”‚
â”‚ challenge:               â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ Player A  (#3)    â”‚ â”‚  â† tap to select
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ Player B  (#4)    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ No one available?        â”‚
â”‚ Players may be on        â”‚
â”‚ vacation or already in   â”‚
â”‚ an open challenge.       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2 (same sheet, transitions):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Challenge Player A?      â”‚
â”‚                          â”‚
â”‚ Message (optional):      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ "How about Thursday  â”‚ â”‚
â”‚ â”‚  or Friday evening?" â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Send Challenge â†’    â”‚ â”‚  â† court-500 button
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [Cancel]                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Result**: 2-3 taps (FAB â†’ select player â†’ send). 4 taps if multiple seasons.

**Disabled state**: If the current player already has an open challenge in the selected season, the FAB is dimmed and tapping shows a message: "You already have an open challenge in this season."

---

### 8. Matches (`/matches`)

**Purpose**: List of all matches for the active club's selected season.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Matches                  â”‚
â”‚ [Season selector â–¼]     â”‚
â”‚                          â”‚
â”‚ [Tabs: My | All | Open]  â”‚
â”‚                          â”‚
â”‚ â”€â”€ Open Challenges â”€â”€    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ You â†’ Player B       â”‚ â”‚
â”‚ â”‚ Challenged 2d ago    â”‚ â”‚
â”‚ â”‚ â³ Awaiting date      â”‚ â”‚
â”‚ â”‚ [View â†’]             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Completed â”€â”€          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Player A vs Player C â”‚ â”‚
â”‚ â”‚ 6-4, 3-6, 7-5       â”‚ â”‚
â”‚ â”‚ 3 days ago           â”‚ â”‚
â”‚ â”‚ [View â†’]             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ...                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Tabs**:
- **My**: Matches involving the current player (open + completed).
- **All**: All matches in the season.
- **Open**: Only open challenges (not yet played).

**Match statuses**: `challenged` â†’ `date_set` â†’ `completed` / `withdrawn` / `forfeited` / `disputed`.

**Match card** shows:
- Both players/teams (avatars + names).
- Status badge: `Challenged`, `Date Set`, `Completed`, `Withdrawn`, `Forfeited`, `Disputed`.
- Score (if completed).
- Time ago.
- Tap â†’ match detail.

**Admin extras**: "Override result" and "Resolve" options on matches.

---

### 9. Match Detail (`/matches/[id]`)

**Purpose**: Full match view with scores, date scheduling, and comments.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back                       â”‚
â”‚                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   Player A    vs    Player Bâ”‚
â”‚ â”‚   ğŸ‘¤ #3        âš”     ğŸ‘¤ #5â”‚
â”‚ â”‚                            â”‚
â”‚ â”‚   Status: Date Set         â”‚
â”‚ â”‚   ğŸ“… Thu, Jan 15, 18:00   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚ â”€â”€ Score (if completed) â”€â”€   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  Game 1:  6 - 4          â”‚ â”‚
â”‚ â”‚  Game 2:  3 - 6          â”‚ â”‚
â”‚ â”‚  Game 3:  7 - 5          â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚  Winner: Player A ğŸ†     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚ â”€â”€ Date Proposals â”€â”€         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Player A proposed:       â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚ â”‚ Thu Jan 15, 18:00  â”‚   â”‚ â”‚  â† tappable card
â”‚ â”‚ â”‚ [Accept] [Decline] â”‚   â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚ â”‚
â”‚ â”‚ â”‚ Fri Jan 16, 19:00  â”‚   â”‚ â”‚
â”‚ â”‚ â”‚ [Accept] [Decline] â”‚   â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚ â”‚
â”‚ â”‚                          â”‚ â”‚
â”‚ â”‚ [Propose a date]         â”‚ â”‚  â† opens date+time picker
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚ â”€â”€ Comments â”€â”€               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Player A Â· 2h ago        â”‚ â”‚
â”‚ â”‚ "Courts 3 and 4 are      â”‚ â”‚
â”‚ â”‚  available on Thursday"   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Player B Â· 1h ago        â”‚ â”‚
â”‚ â”‚ "Thursday works!"        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Type a comment...   [â†’]  â”‚ â”‚  â† sticky input at bottom
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚
â”‚ â”€â”€ Actions â”€â”€                â”‚
â”‚ [Enter Result]               â”‚
â”‚ [Forfeit]                    â”‚
â”‚ [Withdraw Challenge]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Date proposal flow**:
- Either player can tap "Propose a date" â†’ date + time picker â†’ creates a structured proposal card.
- Other player sees the proposal with Accept / Decline buttons.
- When a date is accepted, it becomes the match date. Status â†’ `date_set`. Other open proposals are dismissed.
- If no date agreed within configurable deadline â†’ system sends email reminder to both players + flags match to admin.

**Score entry**:
- "Enter Result" button visible to both players (either can initiate).
- Opens a sheet with `MatchScoreInput` â€” game-by-game score pairs based on season's "best of N" config.
- Winner auto-determined: player who wins the majority of games.
- Validation: must have a clear winner (e.g., best of 3 â†’ need 2 game wins).
- Submit â†’ other player gets notified to confirm or dispute.
- If confirmed â†’ standings update. If disputed â†’ flagged to admin.

**Action visibility**:

| Action | Who sees it | When |
|--------|-------------|------|
| Enter Result | Both players | After match date, or anytime if no date set |
| Forfeit | Both players | While challenge is open (before result) |
| Withdraw | Challenger only | While challenge is open (before result) |

**Admin extras**:
- "Edit Result" button to override scores on completed matches.
- "Resolve Dispute" button if score is disputed.
- "Cancel Match" to void the challenge entirely.

---

### 10. Profile â€” Own (`/profile`)

**Purpose**: Player's own profile with stats, settings, and availability management.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚     [Avatar photo]   â”‚ â”‚  â† tappable to change
â”‚ â”‚     Player Name      â”‚ â”‚
â”‚ â”‚     player@email.com â”‚ â”‚
â”‚ â”‚     [Edit Profile]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Stats â”€â”€              â”‚
â”‚ [Season | Club | All]    â”‚  â† scope tabs
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 12 â”‚ â”‚  3 â”‚ â”‚ #3 â”‚    â”‚
â”‚ â”‚Winsâ”‚ â”‚Lossâ”‚ â”‚Rankâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚
â”‚ â”€â”€ Availability â”€â”€       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â— Available          â”‚ â”‚
â”‚ â”‚ [Set unavailable]    â”‚ â”‚  â† opens date range picker
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ or:                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â¸ Unavailable        â”‚ â”‚
â”‚ â”‚ Until Jan 20, 2026   â”‚ â”‚
â”‚ â”‚ [Cancel unavailability]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Match History â”€â”€      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ vs Player B  W 6-4.. â”‚ â”‚
â”‚ â”‚ vs Player C  L 3-6.. â”‚ â”‚
â”‚ â”‚ vs Player A  W 6-2.. â”‚ â”‚
â”‚ â”‚ [See all matches â†’]  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Rank Progression â”€â”€   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚   ğŸ“ˆ Line chart:     â”‚ â”‚
â”‚ â”‚   rank over time     â”‚ â”‚
â”‚ â”‚   (x=date, y=rank)   â”‚ â”‚
â”‚ â”‚   inverted y-axis    â”‚ â”‚
â”‚ â”‚   (rank 1 at top)    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Head to Head â”€â”€       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ vs Player A: 3W - 1L â”‚ â”‚
â”‚ â”‚ vs Player B: 2W - 2L â”‚ â”‚
â”‚ â”‚ vs Player C: 0W - 3L â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Clubs â”€â”€              â”‚
â”‚ TC Example Â· Admin       â”‚
â”‚ SC Other Â· Player        â”‚
â”‚ [Join another club]      â”‚
â”‚                          â”‚
â”‚ [Sign out]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Stats scope tabs**:
- **Season**: Stats for the currently selected season (in the active club).
- **Club**: Aggregate stats across all seasons in the active club.
- **All**: Aggregate stats across all clubs and seasons.

**Edit profile sheet** (ResponsiveDialog):
- Name, email, phone number.
- Upload / remove profile photo.
- Language preference (EN / DE).

**Unavailability**:
- Set date range (from / until). Reason is private.
- While unavailable: can't be challenged, shown as dimmed in pyramid.
- Other players see `"unavailable until {date}"` but NOT the reason.

---

### 11. Profile â€” Other Player (`/player/[id]`)

**Purpose**: View another player's stats and history.

**Layout**: Same structure as own profile but read-only. No edit, no availability management. Shows:
- Avatar, name, rank in current season.
- Stats with scope tabs (Season / Club / All).
- Match history, head-to-head record with current viewer.
- Rank progression chart.
- Availability status (dates visible, reason hidden).
- If challengeable: prominent "Challenge" button at top of page.

---

### 12. Notifications (`/notifications`)

**Purpose**: In-app notification center. Bell icon in top bar with unread badge count.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Notifications            â”‚
â”‚ [Mark all as read]       â”‚
â”‚                          â”‚
â”‚ â”€â”€ New â”€â”€                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â— Player B challengedâ”‚ â”‚
â”‚ â”‚   you                â”‚ â”‚
â”‚ â”‚   2 hours ago        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â— Player A proposed  â”‚ â”‚
â”‚ â”‚   Thu Jan 15         â”‚ â”‚
â”‚ â”‚   5 hours ago        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Earlier â”€â”€            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â—‹ Player C confirmed â”‚ â”‚
â”‚ â”‚   your result        â”‚ â”‚
â”‚ â”‚   2 days ago         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ...                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Notification types**:

| Event | Notification text | Also email? |
|-------|-------------------|-------------|
| Challenged | `"{player} challenged you"` | Yes |
| Challenge accepted | `"{player} accepted your challenge"` | No |
| Challenge withdrawn | `"{player} withdrew their challenge"` | Yes |
| Forfeit | `"{player} forfeited against you"` | Yes |
| Date proposed | `"{player} proposed {date}"` | No |
| Date accepted | `"{player} accepted {date}"` | No |
| Date reminder | `"No date agreed for match vs {player}"` | Yes |
| Result entered | `"{player} entered the result"` | Yes |
| Result confirmed | `"{player} confirmed the result"` | No |
| Result disputed | `"{player} disputed the result"` | Yes |
| Rank changed | `"You moved from #{x} to #{y}"` | No |
| Season started | `"Season '{name}' has started"` | Yes |
| Season ended | `"Season '{name}' has ended"` | Yes |
| Admin broadcast | `"{admin}: {message}"` | Yes |
| Deadline exceeded | `"Match deadline exceeded vs {player}"` | Yes (to both + admin) |
| Invited to club | `"You've been invited to {club}"` | Yes |

**Behavior**:
- Bell icon in top bar shows unread count badge (red dot with number).
- Tapping a notification navigates to the relevant page (match detail, rankings, etc.).
- Unread = filled dot (â—), read = empty dot (â—‹).
- Grouped by "New" and "Earlier" (today vs older).

---

### 13. Settings (`/settings`)

**Purpose**: App-wide settings.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Settings                 â”‚
â”‚                          â”‚
â”‚ â”€â”€ Appearance â”€â”€         â”‚
â”‚ Dark mode       [toggle] â”‚
â”‚ Language        [EN â–¼]   â”‚
â”‚                          â”‚
â”‚ â”€â”€ Notifications â”€â”€      â”‚
â”‚ Email notifs    [toggle] â”‚  â† master toggle
â”‚ Challenge emails[toggle] â”‚
â”‚ Result emails   [toggle] â”‚
â”‚ Reminder emails [toggle] â”‚
â”‚                          â”‚
â”‚ â”€â”€ Account â”€â”€            â”‚
â”‚ Email    player@mail.com â”‚
â”‚ Phone    +43 123 456     â”‚
â”‚ [Edit account â†’]         â”‚
â”‚                          â”‚
â”‚ â”€â”€ Clubs â”€â”€              â”‚
â”‚ [Join another club â†’]    â”‚
â”‚ [Leave club â†’]           â”‚  â† shows club picker, then ConfirmDialog
â”‚                          â”‚
â”‚ [Sign out]               â”‚
â”‚                          â”‚
â”‚ â”€â”€ Danger Zone â”€â”€        â”‚
â”‚ [Delete account]         â”‚  â† ConfirmDialog with warning text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Leave club**: removes player from club. Match history and stats are preserved (attributed). Player is removed from all active seasons in that club.

**Delete account**: permanently deletes the player account. Match records are preserved with the player's name for historical integrity. Requires confirmation with "type DELETE to confirm" pattern.

---

### 14. Admin â€” Club Dashboard (`/admin/club/[id]`)

**Purpose**: Club admin's management hub.

**Access**: Visible to players with `admin` role in the club. Nav item "Admin" appears in sidebar/bottom nav only for admins.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Club Admin: TC Example   â”‚
â”‚                          â”‚
â”‚ â”€â”€ Quick Stats â”€â”€        â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 24 â”‚ â”‚  3 â”‚ â”‚ 12 â”‚    â”‚
â”‚ â”‚Plyrâ”‚ â”‚Sesnâ”‚ â”‚Openâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚
â”‚ â”€â”€ Active Seasons â”€â”€     â”‚  â† list of all active seasons
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Singles 2026          â”‚ â”‚
â”‚ â”‚ 18 players Â· 4 open  â”‚ â”‚
â”‚ â”‚ Overdue: 2 âš          â”‚ â”‚
â”‚ â”‚ [Manage â†’]           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Doubles 2026          â”‚ â”‚
â”‚ â”‚ 8 teams Â· 1 open     â”‚ â”‚
â”‚ â”‚ [Manage â†’]           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Overdue Matches â”€â”€    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Player A vs Player B â”‚ â”‚
â”‚ â”‚ Challenged 21d ago   â”‚ â”‚
â”‚ â”‚ âš  No date agreed     â”‚ â”‚
â”‚ â”‚ [Nudge] [Resolve]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Actions â”€â”€            â”‚
â”‚ [Manage members â†’]       â”‚
â”‚ [Create new season â†’]    â”‚
â”‚ [Send announcement â†’]    â”‚
â”‚ [Club settings â†’]        â”‚
â”‚                          â”‚
â”‚ â”€â”€ Invite Link â”€â”€        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Join code: ABC123    â”‚ â”‚
â”‚ â”‚ [Copy] [Share] [QR]  â”‚ â”‚
â”‚ â”‚ [Regenerate code]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Nudge button**: sends a reminder email to both players in the overdue match.

**Resolve button**: opens the match detail with admin controls (cancel, set winner, override).

---

### 15. Admin â€” Create Season (`/admin/club/[id]/season/new`)

**Purpose**: Create a new season with scoring and participation config.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Club Admin     â”‚
â”‚ Create Season             â”‚
â”‚                          â”‚
â”‚ â”€â”€ Basics â”€â”€             â”‚
â”‚ Name         [          ]â”‚
â”‚ Type         [Individual â–¼]â”‚  â† Individual or Team
â”‚ Team size    [2 â–¼]       â”‚  â† only if Team selected
â”‚                          â”‚
â”‚ â”€â”€ Scoring â”€â”€            â”‚
â”‚ Best of      [3 â–¼]      â”‚  â† 1, 3, 5, 7...
â”‚                          â”‚
â”‚ â”€â”€ Deadlines â”€â”€          â”‚
â”‚ Match deadline   [14] daysâ”‚ â† reminder sent after
â”‚ Reminder after   [7] days â”‚ â† email if no date agreed
â”‚                          â”‚
â”‚ â”€â”€ Starting Ranks â”€â”€     â”‚
â”‚ â—‹ Empty (manual order)   â”‚
â”‚ â—‹ From season: [â–¼]      â”‚
â”‚   â—‹ Keep current ranks   â”‚
â”‚   â—‹ Shuffle randomly     â”‚
â”‚   â—‹ Invert ranks         â”‚
â”‚                          â”‚
â”‚ â”€â”€ Players â”€â”€            â”‚
â”‚ All 24 club members      â”‚
â”‚ auto-enrolled.           â”‚
â”‚                          â”‚
â”‚ Remove before start:     â”‚
â”‚ â˜‘ Player A               â”‚
â”‚ â˜‘ Player B               â”‚
â”‚ â˜ Player C (remove)      â”‚
â”‚ ...                      â”‚
â”‚                          â”‚
â”‚ [Create Season â†’]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**After creation**: Season is created in `draft` state. Admin must set initial standings order (if not from previous season), then explicitly start the season.

---

### 16. Admin â€” Season Management (`/admin/club/[id]/season/[id]`)

**Purpose**: Configure and manage an active or archived season.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Club Admin     â”‚
â”‚ Season: Singles 2026     â”‚
â”‚ Status: Active â—         â”‚
â”‚                          â”‚
â”‚ â”€â”€ Configuration â”€â”€      â”‚
â”‚ Name         [Singles 26]â”‚
â”‚ Best of      [3]         â”‚
â”‚ Match deadline [14 days] â”‚
â”‚ Reminder     [7 days]    â”‚
â”‚ [Save changes]           â”‚
â”‚                          â”‚
â”‚ â”€â”€ Standings â”€â”€          â”‚
â”‚ [Edit rankings â†’]        â”‚  â† drag-and-drop reorder
â”‚ [View pyramid â†’]         â”‚
â”‚                          â”‚
â”‚ â”€â”€ Players â”€â”€            â”‚
â”‚ 18 active Â· 2 opted out  â”‚
â”‚ [Manage players â†’]       â”‚
â”‚                          â”‚
â”‚ â”€â”€ Season Lifecycle â”€â”€   â”‚
â”‚ [End season]             â”‚  â† ConfirmDialog
â”‚                          â”‚
â”‚ â”€â”€ New Season â”€â”€         â”‚
â”‚ [Create season from      â”‚
â”‚  this one â†’]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**For team seasons**: additional section:

```
â”‚ â”€â”€ Teams â”€â”€              â”‚
â”‚ [Manage teams â†’]         â”‚  â† /admin/club/[id]/season/[id]/teams
```

---

### 17. Admin â€” Team Management (`/admin/club/[id]/season/[id]/teams`)

**Purpose**: Create and manage teams for team-based seasons.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Back to Season         â”‚
â”‚ Teams                    â”‚
â”‚ [Create team]            â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Team Alpha            â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ Player A           â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ Player B           â”‚ â”‚
â”‚ â”‚ [Edit] [Delete]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Team Beta             â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ Player C           â”‚ â”‚
â”‚ â”‚ ğŸ‘¤ Player D           â”‚ â”‚
â”‚ â”‚ [Edit] [Delete]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Unassigned Players â”€â”€ â”‚
â”‚ Player E, Player F       â”‚
â”‚                          â”‚
â”‚ â”€â”€ Create Team â”€â”€        â”‚
â”‚ Team name: [           ] â”‚
â”‚ Members:                 â”‚
â”‚ [Player dropdown + add]  â”‚
â”‚ [Create â†’]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Admin creates teams, names them, and assigns players from the season roster.
- Team size enforced per season config (e.g., 2 for doubles).
- Unassigned players are listed at the bottom as a reminder.
- Teams participate in the pyramid the same way individual players do.

---

### 18. Admin â€” Member Management (`/admin/club/[id]/members`)

**Purpose**: Manage club members (across all seasons).

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Members (24)             â”‚
â”‚ [Invite new player]      â”‚
â”‚ [Search...          ğŸ”]  â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ Player A          â”‚ â”‚
â”‚ â”‚ player.a@mail.com    â”‚ â”‚
â”‚ â”‚ Role: Player         â”‚ â”‚
â”‚ â”‚ [Make admin] [Remove]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ Player B          â”‚ â”‚
â”‚ â”‚ player.b@mail.com    â”‚ â”‚
â”‚ â”‚ Role: Admin â˜…        â”‚ â”‚
â”‚ â”‚ [Demote] [Remove]    â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ...                      â”‚
â”‚                          â”‚
â”‚ â”€â”€ Invite New Player â”€â”€  â”‚
â”‚ (expanded when tapped)   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Email:               â”‚ â”‚
â”‚ â”‚ [email@example.com]  â”‚ â”‚
â”‚ â”‚ Name:  (optional)    â”‚ â”‚
â”‚ â”‚ [Send invite â†’]      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Invite flow**:
- Admin enters email (required) and optionally a name.
- If email already has an account â†’ player added to club directly, notified.
- If email has no account â†’ player account created (with optional name), magic link sent.
- New player follows: magic link â†’ onboarding (if name not set) â†’ auto-joined to club.

**Admin role**: per club, not per season. A club admin is admin for all seasons in that club.

**Remove**: removes from club + all active seasons. Match history preserved (attributed). Requires ConfirmDialog.

---

### 19. Admin â€” Announcements (`/admin/club/[id]/announcements`)

**Purpose**: Broadcast messages to all club members.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Announcements            â”‚
â”‚                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ New announcement     â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚ â”‚ â”‚ Type message...  â”‚ â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚ â”‚ [x] Send as email    â”‚ â”‚
â”‚ â”‚ [Send â†’]             â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚
â”‚ â”€â”€ Past Announcements â”€â”€ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ "Courts closed next  â”‚ â”‚
â”‚ â”‚  week for resurfacing"â”‚ â”‚
â”‚ â”‚ Sent by Admin Â· 3d   â”‚ â”‚
â”‚ â”‚ Emailed: Yes         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ ...                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior**:
- Announcement appears as in-app notification to all club members.
- Optionally also sent as email (checkbox).
- Announcements are shown in a separate section (NOT in the feed) â€” accessible from the admin area and via notification tap.
- Past announcements are listed with timestamp and delivery method.

---

### 20. Admin â€” App Super Admin (`/admin/app`)

**Purpose**: Global admin for managing the entire app instance.

**Access**: Only for users with `is_app_admin` flag. The first user to deploy the instance is the initial app admin.

**Layout**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App Administration       â”‚
â”‚                          â”‚
â”‚ â”€â”€ Overview â”€â”€           â”‚
â”‚ â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”    â”‚
â”‚ â”‚  5 â”‚ â”‚ 87 â”‚ â”‚ 12 â”‚    â”‚
â”‚ â”‚Clubâ”‚ â”‚Plyrâ”‚ â”‚Sesnâ”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”˜    â”‚
â”‚                          â”‚
â”‚ â”€â”€ Clubs â”€â”€              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ TC Example           â”‚ â”‚
â”‚ â”‚ 24 members Â· Active  â”‚ â”‚
â”‚ â”‚ Admin: admin@ex.com  â”‚ â”‚
â”‚ â”‚ [View] [Disable]     â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [Create new club â†’]      â”‚
â”‚                          â”‚
â”‚ â”€â”€ App Admins â”€â”€         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ admin@example.com â˜…  â”‚ â”‚
â”‚ â”‚ [Revoke admin]       â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [Add app admin]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Create club flow**:
- App admin enters club name.
- Club created with a join code.
- App admin assigns an initial club admin (by email). That person becomes the club's admin.

---

## Inline Admin Actions (on Regular Pages)

Admin sees extra UI on regular pages (no separate "admin mode"):

| Page | Admin Extra |
|------|-------------|
| Rankings (pyramid) | "Edit standings" button â†’ drag-and-drop reorder mode |
| Rankings (list) | Drag handle on each row to reorder |
| Match detail | "Edit result" / "Resolve dispute" / "Cancel match" buttons |
| Player card (pyramid) | "..." menu: "Remove from season", "Change rank" |
| Player profile | "..." menu: "Make admin", "Remove from club" |
| Bottom nav / sidebar | "Admin" nav item appears |

On mobile, admin actions are hidden behind a "..." overflow menu to keep the UI clean. On desktop, they appear as inline buttons.

---

## Responsive Behavior Summary

| Element | Mobile (< lg) | Desktop (lg+) |
|---------|---------------|---------------|
| Navigation | Bottom nav (fixed) + top bar | Sidebar (left) |
| Notification bell | Top bar, right side | Sidebar, with badge |
| Club switcher | Top bar, left side | Top of sidebar |
| Dialogs / sheets | Bottom sheet (`rounded-t-3xl`) | Centered dialog |
| Challenge FAB | Center of bottom nav, raised | Button in page header |
| Pyramid cards | Compact (name + rank only) | Full (name + rank + W/L) |
| Match detail | Full-width cards, stacked | Two-column layout |
| Admin actions | Hidden in "..." menu | Visible inline buttons |
| Rankings toggle | Tabs above content | Toggle buttons top-right |
| Feed cards | Full-width, edge-to-edge | Max-width `2xl` centered |
| Profile stats | Horizontal scroll for tabs | Inline tabs |

---

## i18n

All user-facing text must be translation-ready. Use `next-intl` for the translation system.

**Supported languages**: English (default), German.

**Language selection**: per-user setting in `/settings`, stored in DB. Falls back to browser locale â†’ English.

**What gets translated**:
- All UI labels, buttons, headings, empty states, error messages, notification text.
- Email templates (subject + body).

**What stays untranslated**:
- Player names, club names, season names, team names.
- Comments, announcements (user-generated content).
- Score numbers.
