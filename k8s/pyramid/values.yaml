replicaCount: 2

image:
  repository: pyramid
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  host: pyramid.example.com
  tls:
    enabled: true
    secretName: pyramid-tls

config:
  appUrl: "https://pyramid.example.com"
  nodeEnv: "production"
  smtpHost: "postfix-relay.postfix.svc.cluster.local"
  smtpPort: "587"
  smtpFrom: "Pyramid <pyramid@raphi011.dev>"

secret:
  # Set to false if using external secret management (Sealed Secrets, External Secrets Operator)
  create: true
  # Override via --set secret.databaseUrl=... (required when secret.create is true)
  databaseUrl: ""
  # Override if using an externally managed Secret with a different name
  existingSecretName: ""

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi

livenessProbe:
  httpGet:
    path: /api/health
    port: http
  initialDelaySeconds: 10
  periodSeconds: 15

readinessProbe:
  httpGet:
    path: /api/health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 10

nodeSelector: {}
tolerations: []
affinity: {}
